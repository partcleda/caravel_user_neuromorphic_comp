{
  "//": "Design files",
  "VERILOG_FILES": [
    "dir::../../verilog/rtl/defines.v",
    "dir::../../verilog/rtl/user_project_wrapper.v",
    "dir::../../verilog/rtl/mat_mult_wb.v"
  ],

  "MAGIC_EXT_USE_GDS": true,
  "MAGIC_EXT_ABSTRACT_CELLS": ["Neuromorphic_X1_wb"],

  "PNR_SDC_FILE": "dir::signoff.sdc",

  "//": "Hardening strategy variables (this is for 3-Top-Level Integration). Visit https://docs.google.com/document/d/1pf-wbpgjeNEM-1TcvX2OJTkHjqH_C9p-LURCASS0Zo8 for more info",
  "SYNTH_ELABORATE_ONLY": false,
  "RUN_POST_GPL_DESIGN_REPAIR": true,
  "RUN_POST_CTS_RESIZER_TIMING": true,
  "DESIGN_REPAIR_BUFFER_INPUT_PORTS": true,

  "//": "Hold fixing parameters",
  "PL_RESIZER_HOLD_SLACK_MARGIN": 2.0,
  "GLB_RESIZER_HOLD_SLACK_MARGIN": 1.0,
  "PL_RESIZER_HOLD_MAX_BUFFER_PERCENT": 50,
  "GLB_RESIZER_HOLD_MAX_BUFFER_PERCENT": 70,
  "FP_PDN_ENABLE_RAILS": true,
  "RUN_ANTENNA_REPAIR": true,
  "RUN_FILL_INSERTION": true,
  "RUN_TAP_ENDCAP_INSERTION": true,
  "RUN_CTS": true,
  "RUN_IRDROP_REPORT": false,

  "//": "Don't buffer analog signals",
  "RSZ_DONT_TOUCH_LIST": [
    "analog_io[0]",
    "analog_io[1]",
    "analog_io[2]",
    "analog_io[3]",
    "analog_io[5]",
    "analog_io[6]",
    "analog_io[7]",
    "analog_io[8]",
    "analog_io[9]",
    "analog_io[10]",
    "analog_io[11]",
    "analog_io[12]"
  ],

  "//": "Use custom PDN (compat script: set_voltage_domain + pdngen; no PDN_* envs)",
  "FP_PDN_CFG": "dir::./pdn_override_2.tcl",

  "//": "Fail the run if power is geometrically open",
  "ERROR_ON_PDN_VIOLATIONS": true,
  "IGNORE_DISCONNECTED_MODULES": ["user_project_wrapper"],

  "VERILOG_POWER_DEFINE": "USE_POWER_PINS",

  "//": "Macros configurations",
  "MACROS": {
    "Neuromorphic_X1_wb": {
      "vh": ["dir::../../ip/Neuromorphic_X1_32x32/hdl/NEUROMORPHIC_X1_stub.v"],
      "gds": ["dir::../../gds/Neuromorphic_X1_wb.gds"],
      "lef": ["dir::../../lef/Neuromorphic_X1_wb.lef"],
      "instances": {
        "neuro_inst": { "location": [1900.0, 900.0], "orientation": "N" }
      },
      "lib": { "*": "dir::../../lib/Neuromorphic_X1_wb.lib" }
    }
  },

  "//": "Hook macro power pins to Caravel rails (keep consistent with RTL)",
  "PDN_CONNECT_MACROS_TO_GRID": true,
  "PDN_MACRO_CONNECTIONS": [
    "neuro_inst vccd1 vssd1 VDDC VSS",
    "neuro_inst vdda1 vssd1 VDDA VSS"
  ],

  "//": "Specify halo around macros",
  "FP_MACRO_HORIZONTAL_HALO": 5,
  "FP_MACRO_VERTICAL_HALO": 5,

  "//": "Core ring inside die bounds",
  "FP_PDN_CORE_RING": true,
  "FP_PDN_CORE_RING_VWIDTH": 3.1,
  "FP_PDN_CORE_RING_HWIDTH": 3.1,
  "FP_PDN_CORE_RING_VOFFSET": 12.45,
  "FP_PDN_CORE_RING_HOFFSET": 12.45,
  "FP_PDN_CORE_RING_VSPACING": 1.7,
  "FP_PDN_CORE_RING_HSPACING": 1.7,

  "//": "Magic variables",
  "MAGIC_DRC_USE_GDS": true,
  "MAGIC_CAPTURE_ERRORS": false,
  "ERROR_ON_MAGIC_DRC": false,

  "DRT_THREADS": 40,
  "PL_TARGET_DENSITY_PCT": 20,
  "MAX_TRANSITION_CONSTRAINT": 1.5,

  "//": "Try to fix antenna errors, following https://librelane.readthedocs.io/en/latest/usage/caravel/index.html#openroad-checkantennas",
  "GRT_ANTENNA_ITERS": 10,
  "GRT_ANTENNA_MARGIN": 15,
  "RUN_HEURISTIC_DIODE_INSERTION": true,
  "DESIGN_REPAIR_MAX_WIRE_LENGTH": 800,
  "PL_WIRE_LENGTH_COEF": 0.05,

  "//": "Allow routing congestion to proceed past global routing",
  "GRT_ALLOW_CONGESTION": false,
  "GRT_OVERFLOW_ITERS": 150,

  "//": "Will ignore synth",
  "ERROR_ON_SYNTH_CHECKS": false,

  "//": "Fixed configurations for caravel. You should NOT edit this section",
  "DESIGN_NAME": "user_project_wrapper",
  "FP_SIZING": "absolute",
  "DIE_AREA": [0, 0, 2920, 3520],
  "FP_DEF_TEMPLATE": "dir::fixed_dont_change/user_project_wrapper.def",

  "VDD_NETS": ["vccd1", "vdda1", "vccd2", "vdda2"],
  "GND_NETS": ["vssd1", "vssa1", "vssd2", "vssa2"],

  "CLOCK_PORT": "wb_clk_i",
  "SIGNOFF_SDC_FILE": "dir::signoff.sdc",
  "MAGIC_DEF_LABELS": false,
  "CLOCK_PERIOD": 25,
  "MAGIC_ZEROIZE_ORIGIN": false,

  "meta": { "version": 2 }
}

